{"version":3,"file":"index.umd.js","sources":["../src/CornerLink.js","../src/ReactCornerLink.js","../src/index.js"],"sourcesContent":["// 默认样式\nconst defaultStyles = {\n  padding: '10px 15px',\n  backgroundColor: '#3498db',\n  color: 'white',\n  textDecoration: 'none',\n  borderRadius: '5px',\n  boxShadow: '0 2px 5px rgba(0,0,0,0.2)',\n  fontFamily: 'Arial, sans-serif',\n  fontSize: '14px',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  transition: 'all 0.3s ease',\n  marginLeft: '10px' // 添加按钮间距\n};\n\n// 悬停样式\nconst hoverStyles = {\n  backgroundColor: '#2980b9',\n  boxShadow: '0 4px 8px rgba(0,0,0,0.3)',\n  transform: 'translateY(-2px)'\n};\n\n// 容器样式\nconst containerStyles = {\n  position: 'fixed',\n  bottom: '20px',\n  right: '20px',\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n\tgap: '12px',\n  zIndex: 1000\n};\n\n// 多语言文本映射\nconst textMap = {\n  'view-source': {\n    'zh-CN': '查看源码',\n    'en-US': 'View Source',\n    'default': 'View Source'\n  },\n  'built-by-solo': {\n    'zh-CN': '由SoloMakerStudio构建',\n    'en-US': 'Built by SoloMakerStudio',\n    'default': 'Built by SoloMakerStudio'\n  }\n};\n\n// 全局容器元素\nlet container = null;\n\n/**\n * CornerLink - 在页面右下角添加一个可配置的链接\n * \n * @param {Object} options - 配置选项\n * @param {string} options.url - 链接地址\n * @param {string} options.type - 链接类型，可选值：'view-source' | 'built-by-solo'\n * @param {Object} options.styles - 自定义样式\n * @param {string} options.target - 链接目标，默认为'_blank'\n * @param {string} options.id - 元素ID，默认为'corner-link'\n * @returns {Object} 包含remove方法的对象\n */\nfunction CornerLink(options = {}) {\n  // 获取浏览器语言\n  const browserLang = navigator.language || navigator.userLanguage;\n  const lang = browserLang.startsWith('zh') ? 'zh-CN' : 'en-US';\n\n  // 默认配置\n  const config = {\n    url: options.url || 'https://example.com',\n    type: options.type || 'view-source',\n    styles: { ...defaultStyles, ...(options.styles || {}) },\n    target: options.target || '_blank',\n    id: options.id || 'corner-link'\n  };\n\n  // 获取对应语言的文本\n  const getText = (type) => {\n    return textMap[type]?.[lang] || textMap[type]?.default || textMap['view-source'].default;\n  };\n\n  // 创建或获取容器\n  if (!container) {\n    container = document.createElement('div');\n    container.id = 'corner-links-container';\n    Object.assign(container.style, containerStyles);\n    document.body.appendChild(container);\n  }\n\n  // 检查是否已存在\n  let existingLink = document.getElementById(config.id);\n  if (existingLink) {\n    container.removeChild(existingLink);\n  }\n\n  // 创建链接元素\n  const link = document.createElement('a');\n  link.id = config.id;\n  link.href = config.url;\n  link.textContent = getText(config.type);\n  link.target = config.target;\n  link.rel = 'noopener noreferrer';\n  \n  // 应用样式\n  Object.assign(link.style, config.styles);\n  \n  // 添加悬停效果\n  link.addEventListener('mouseenter', () => {\n    Object.assign(link.style, hoverStyles);\n  });\n  \n  link.addEventListener('mouseleave', () => {\n    Object.assign(link.style, config.styles);\n  });\n  \n  // 添加到容器\n  container.appendChild(link);\n  \n  // 返回控制对象\n  return {\n    // 移除链接的方法\n    remove: () => {\n      const linkElement = document.getElementById(config.id);\n      if (linkElement) {\n        container.removeChild(linkElement);\n        // 如果容器为空，则移除容器\n        if (container.children.length === 0) {\n          document.body.removeChild(container);\n          container = null;\n        }\n      }\n    },\n    // 更新链接的方法\n    update: (newOptions = {}) => {\n      const linkElement = document.getElementById(config.id);\n      if (linkElement) {\n        if (newOptions.url) linkElement.href = newOptions.url;\n        if (newOptions.type) {\n          config.type = newOptions.type;\n          linkElement.textContent = getText(newOptions.type);\n        }\n        if (newOptions.target) linkElement.target = newOptions.target;\n        if (newOptions.styles) {\n          Object.assign(linkElement.style, { ...config.styles, ...newOptions.styles });\n          config.styles = { ...config.styles, ...newOptions.styles };\n        }\n      }\n    }\n  };\n}\n\nexport default CornerLink;","import React, { useEffect, useRef } from 'react';\nimport CornerLink from './CornerLink';\n\n/**\n * React版本的CornerLink组件\n */\nconst ReactCornerLink = ({ url, text, styles, target, id, type }) => {\n  const cornerLinkRef = useRef(null);\n  \n  useEffect(() => {\n    // 组件挂载时创建CornerLink\n    cornerLinkRef.current = CornerLink({\n      url,\n      text,\n      styles,\n      target,\n      id,\n      type\n    });\n    \n    // 组件卸载时移除CornerLink\n    return () => {\n      if (cornerLinkRef.current) {\n        cornerLinkRef.current.remove();\n      }\n    };\n  }, []); // 仅在挂载和卸载时执行\n  \n  // 当props变化时更新CornerLink\n  useEffect(() => {\n    if (cornerLinkRef.current) {\n      cornerLinkRef.current.update({\n        url,\n        text,\n        styles,\n        target,\n        type\n      });\n    }\n  }, [url, text, styles, target, type]);\n  \n  // React组件不渲染任何内容，因为链接是通过DOM操作添加的\n  return null;\n};\n\nexport default ReactCornerLink;","import CornerLink from './CornerLink';\nimport ReactCornerLink from './ReactCornerLink';\n\n// 检测环境\nconst isReactAvailable = typeof React !== 'undefined';\n\n// 导出适合当前环境的组件\nexport default isReactAvailable ? ReactCornerLink : CornerLink;\n\n// 同时导出两个版本，让用户可以明确选择\nexport { CornerLink, ReactCornerLink };"],"names":["defaultStyles","padding","backgroundColor","color","textDecoration","borderRadius","boxShadow","fontFamily","fontSize","display","alignItems","justifyContent","transition","marginLeft","hoverStyles","transform","containerStyles","position","bottom","right","flexDirection","gap","zIndex","textMap","default","container","CornerLink","options","arguments","length","undefined","lang","navigator","language","userLanguage","startsWith","config","url","type","styles","_objectSpread","target","id","getText","_textMap$type","_textMap$type2","document","createElement","Object","assign","style","body","appendChild","existingLink","getElementById","removeChild","link","href","textContent","rel","addEventListener","remove","linkElement","children","update","newOptions","ReactCornerLink","_ref","text","cornerLinkRef","useRef","useEffect","current","index","React"],"mappings":"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"}